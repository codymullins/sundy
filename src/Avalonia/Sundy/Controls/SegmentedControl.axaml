<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="using:Sundy.Controls">

    <Design.PreviewWith>
        <Border Padding="20" Background="{DynamicResource BackgroundPrimary}" Width="300" Height="60">
            <controls:SegmentedControl SelectedIndex="1">
                <controls:SegmentedControl.Segments>
                    <x:String>Day</x:String>
                    <x:String>Week</x:String>
                    <x:String>Month</x:String>
                </controls:SegmentedControl.Segments>
            </controls:SegmentedControl>
        </Border>
    </Design.PreviewWith>

    <Style Selector="controls|SegmentedControl">
        <Setter Property="Height" Value="36"/>
        <Setter Property="MinWidth" Value="100"/>
        <Setter Property="HorizontalAlignment" Value="Stretch"/>
        <Setter Property="VerticalAlignment" Value="Center"/>
        <Setter Property="Template">
            <ControlTemplate>
                <Border Background="{DynamicResource BackgroundTertiary}"
                        BorderBrush="{DynamicResource BorderBrushHover}"
                        BorderThickness="1"
                        CornerRadius="18"
                        Padding="2"
                        ClipToBounds="True">
                    <Grid>
                        <!-- Sliding indicator background -->
                        <Border x:Name="PART_Indicator"
                                Background="{DynamicResource AccentPrimary}"
                                CornerRadius="16"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Stretch">
                            <Border.Transitions>
                                <Transitions>
                                    <DoubleTransition Property="Width" Duration="0:0:0.15" Easing="CubicEaseOut"/>
                                </Transitions>
                            </Border.Transitions>
                            <Border.RenderTransform>
                                <TranslateTransform X="0">
                                    <TranslateTransform.Transitions>
                                        <Transitions>
                                            <DoubleTransition Property="X" Duration="0:0:0.15" Easing="CubicEaseOut"/>
                                        </Transitions>
                                    </TranslateTransform.Transitions>
                                </TranslateTransform>
                            </Border.RenderTransform>
                        </Border>

                        <!-- Segment buttons container -->
                        <StackPanel x:Name="PART_SegmentContainer"
                                    Orientation="Horizontal"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Stretch"/>
                    </Grid>
                </Border>
            </ControlTemplate>
        </Setter>
    </Style>

    <!-- RadioButton segment styling -->
    <Style Selector="controls|SegmentedControl RadioButton">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Foreground" Value="{DynamicResource ForegroundMuted}"/>
        <Setter Property="FontSize" Value="13"/>
        <Setter Property="FontWeight" Value="Medium"/>
        <Setter Property="HorizontalContentAlignment" Value="Center"/>
        <Setter Property="VerticalContentAlignment" Value="Center"/>
        <Setter Property="Padding" Value="20,8"/>
        <Setter Property="MinWidth" Value="60"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Transitions">
            <Transitions>
                <BrushTransition Property="Foreground" Duration="0:0:0.15"/>
            </Transitions>
        </Setter>
        <Setter Property="Template">
            <ControlTemplate>
                <Border Background="{TemplateBinding Background}"
                        Padding="{TemplateBinding Padding}">
                    <ContentPresenter Content="{TemplateBinding Content}"
                                      HorizontalAlignment="Center"
                                      VerticalAlignment="Center"/>
                </Border>
            </ControlTemplate>
        </Setter>
    </Style>

    <Style Selector="controls|SegmentedControl RadioButton:checked">
        <Setter Property="Foreground" Value="{DynamicResource ForegroundPrimary}"/>
        <Setter Property="FontWeight" Value="SemiBold"/>
    </Style>

    <Style Selector="controls|SegmentedControl RadioButton:pointerover:not(:checked)">
        <Setter Property="Foreground" Value="{DynamicResource ForegroundSecondary}"/>
    </Style>

</Styles>
